# 函数调用参数位置

前六个参数会放到寄存器中，然后剩下的参数会压栈。

```asm
// 假设有20个参数，a1, a2, ..., a20

// 前六个参数放在寄存器中
mov rdi, a1
mov rsi, a2
mov rdx, a3
mov rcx, a4
mov r8,  a5
mov r9,  a6

// 剩余参数按顺序压栈
push a20
push a19
...
push a7

// 调用函数
call my_function

// 函数返回后，清理栈
add rsp, 14 * 8 // 14个参数，每个占8字节
```

返回值则不同，如果是简单类型的，那么就可能直接在寄存器中，如果是复杂类型的，那么调用函数前则会先在栈上分配空间，并将一个指针传递给下一个函数，让下一个函数用这个指针作为返回值。